<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Farmer Expense Calculator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    :root {
      --primary: rgb(26, 42, 56);
      --primary-light: rgb(36, 58, 77);
      --primary-lighter: rgb(46, 74, 98);
      --primary-dark: rgb(16, 32, 46);
      --accent: rgb(49, 151, 149);
      --text-light: rgb(235, 235, 235);
      --text-dark: rgb(51, 51, 51);
      --border-color: rgba(255, 255, 255, 0.1);
      --input-bg: rgba(255, 255, 255, 0.07);
    }

    body {
      background-color: #f5f5f5;
      color: var(--text-dark);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
      color: var(--text-light);
      padding: 20px 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: left;
      margin: 0;
      position: relative;
      padding-left: 10px;
    }

    header h1::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 70%;
      background-color: var(--accent);
      border-radius: 2px;
    }

    .header-subtitle {
      color: rgba(255, 255, 255, 0.8);
      font-weight: 300;
      font-size: 1.1rem;
      margin-top: 5px;
    }

    .main-container {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
      margin: 20px auto;
      padding: 30px;
      transition: transform 0.3s ease;
    }

    .main-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
    }

    .section {
      margin-bottom: 35px;
      transition: all 0.3s ease;
    }

    .section-title {
      color: var(--primary);
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--primary-lighter);
      display: flex;
      align-items: center;
    }

    .section-title::before {
      content: "";
      display: inline-block;
      width: 12px;
      height: 12px;
      background-color: var(--accent);
      margin-right: 10px;
      border-radius: 50%;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .form-group {
      margin-bottom: 15px;
      transition: all 0.2s ease;
    }

    .form-group:hover {
      transform: translateY(-2px);
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--primary);
    }

    input, select {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background-color: white;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(49, 151, 149, 0.2);
    }

    .expense-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-bottom: 25px;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }

    .expense-table th {
      background-color: var(--primary-lighter);
      color: white;
      padding: 15px;
      text-align: left;
    }

    .expense-table td {
      padding: 12px 15px;
      border-bottom: 1px solid #eee;
      transition: background-color 0.2s ease;
    }

    .expense-table tr:last-child td {
      border-bottom: none;
    }

    .expense-table tr:hover td {
      background-color: rgba(49, 151, 149, 0.05);
    }

    .expense-table input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
      text-align: right;
    }

    .btn {
      padding: 12px 18px;
      background-color: var(--accent);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .btn:hover {
      background-color: #2a8380;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .btn-block {
      display: block;
      width: 100%;
    }

    .btn-add {
      background-color: var(--primary);
    }

    .btn-add:hover {
      background-color: var(--primary-light);
    }

    .btn-remove {
      background-color: #e53935;
      padding: 8px 12px;
      font-size: 0.9rem;
    }

    .btn-remove:hover {
      background-color: #c62828;
    }

    .summary-container {
      background: linear-gradient(150deg, var(--primary), var(--primary-light));
      color: white;
      border-radius: 12px;
      padding: 25px;
      margin-top: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transform: translateZ(0);
      transition: all 0.3s ease;
    }

    .summary-container:hover {
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
    }

    .summary-box {
      background-color: var(--primary-light);
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .summary-box:hover {
      transform: translateY(-5px);
    }

    .summary-title {
      font-size: 1.25rem;
      margin-bottom: 15px;
      font-weight: 600;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 10px;
      color: var(--text-light);
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding: 5px 0;
    }

    .profit {
      color: #4caf50;
      font-weight: bold;
    }

    .loss {
      color: #f44336;
      font-weight: bold;
    }

    .transportation-container {
      background-color: rgba(26, 42, 56, 0.05);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.03);
      transition: all 0.3s ease;
    }

    .transportation-container:hover {
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.07);
    }

    .vehicle-inputs {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .result-text {
      font-size: 1.2rem;
      font-weight: 500;
      margin-top: 15px;
      padding: 15px;
      background-color: var(--primary-lighter);
      color: white;
      border-radius: 6px;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .result-text:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .yield-market-container {
      background-color: rgba(49, 151, 149, 0.05);
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.03);
    }

    .yield-market-container:hover {
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.07);
    }

    /* Add animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section {
      animation: fadeIn 0.5s ease-out forwards;
    }

    .section:nth-child(2) {
      animation-delay: 0.2s;
    }

    .section:nth-child(3) {
      animation-delay: 0.4s;
    }

    .summary-container {
      animation: fadeIn 0.5s ease-out forwards;
      animation-delay: 0.6s;
    }

    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .summary-grid {
        grid-template-columns: 1fr;
      }

      header h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <div>
          <h1>Farmer Expense Calculator</h1>
          <p class="header-subtitle">Track costs, calculate profits, plan better</p>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="main-container">
      <div class="section">
        <h2 class="section-title">Farm Information</h2>
        <div class="form-grid">
          <div class="form-group">
            <label for="farm-size">Farm Size (acres/hectares)</label>
            <input type="number" id="farm-size" value="10" min="0" step="0.5">
          </div>
          <div class="form-group">
            <label for="size-unit">Unit</label>
            <select id="size-unit">
              <option value="acres">Acres</option>
              <option value="hectares">Hectares</option>
              <option value="bigha">Bigha</option>
            </select>
          </div>
          <div class="form-group">
            <label for="crop">Crop Type</label>
            <select id="crop">
              <option value="wheat">Wheat</option>
              <option value="rice">Rice</option>
              <option value="cotton">Cotton</option>
              <option value="sugarcane">Sugarcane</option>
              <option value="custom">Other/Custom</option>
            </select>
          </div>
        </div>

        <div class="yield-market-container">
          <div class="form-grid">
            <div class="form-group">
              <label for="total-yield">Total Yield (quintals)</label>
              <input type="number" id="total-yield" value="150" min="0" step="1">
            </div>
            <div class="form-group">
              <label for="market-price">Market Price (₹/quintal)</label>
              <input type="number" id="market-price" value="2200" min="0" step="1">
            </div>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">Total Farm Expenses</h2>
        <table class="expense-table" id="expenseTable">
          <thead>
            <tr>
              <th>Expense Item</th>
              <th>Total Cost (₹)</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr data-id="seeds">
              <td>Seeds/Plants</td>
              <td><input type="number" class="expense-input" value="50000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
            <tr data-id="fertilizer">
              <td>Fertilizer</td>
              <td><input type="number" class="expense-input" value="35000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
            <tr data-id="pesticides">
              <td>Pesticides/Herbicides</td>
              <td><input type="number" class="expense-input" value="20000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
            <tr data-id="irrigation">
              <td>Irrigation</td>
              <td><input type="number" class="expense-input" value="15000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
            <tr data-id="labor">
              <td>Labor</td>
              <td><input type="number" class="expense-input" value="40000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
            <tr data-id="equipment">
              <td>Equipment Operation</td>
              <td><input type="number" class="expense-input" value="30000"></td>
              <td><button class="btn btn-remove">Remove</button></td>
            </tr>
          </tbody>
        </table>

        <div class="form-grid">
          <div class="form-group">
            <label for="new-expense">New Expense Item</label>
            <input type="text" id="new-expense" placeholder="E.g., Harvesting">
          </div>
          <div class="form-group">
            <label for="new-expense-cost">Total Cost (₹)</label>
            <input type="number" id="new-expense-cost" placeholder="Total amount">
          </div>
          <div class="form-group">
            <label>&nbsp;</label>
            <button id="add-expense" class="btn btn-add">Add Expense</button>
          </div>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">Transportation Calculator</h2>
        <div class="transportation-container">
          <div class="vehicle-inputs">
            <div class="form-group">
              <label for="vehicle-type">Vehicle Type</label>
              <select id="vehicle-type">
                <option value="tractor">Tractor</option>
                <option value="truck">Truck/Mini-truck</option>
                <option value="bike">Motorcycle</option>
                <option value="other">Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="mileage">Mileage (km/liter)</label>
              <input type="number" id="mileage" value="10">
            </div>
            <div class="form-group">
              <label for="fuel-type">Fuel Type</label>
              <select id="fuel-type">
                <option value="diesel">Diesel</option>
                <option value="petrol">Petrol</option>
              </select>
            </div>
            <div class="form-group">
              <label for="fuel-price">Fuel Price (₹/liter)</label>
              <input type="number" id="fuel-price" value="95">
            </div>
            <div class="form-group">
              <label for="distance">Distance (km)</label>
              <input type="number" id="distance" value="30">
            </div>
            <div class="form-group">
              <label for="trips">Number of Trips</label>
              <input type="number" id="trips" value="2">
            </div>
          </div>
          <div class="form-group">
            <button id="calculate-transport" class="btn btn-block">Calculate Transportation Cost</button>
          </div>
          <div id="transport-result" class="result-text">
            Transportation Cost: ₹570.00
          </div>
        </div>
      </div>

      <div class="summary-container">
        <h2 class="summary-title" style="color: var(--text-light); border-bottom-color: var(--border-color);">Summary</h2>
        <div class="summary-grid">
          <div class="summary-box">
            <h3 class="summary-title">Expenses</h3>
            <div class="summary-item">
              <span>Total Farm Expenses:</span>
              <span id="total-farm-expenses">₹190,000.00</span>
            </div>
            <div class="summary-item">
              <span>Transportation Cost:</span>
              <span id="transportation-cost">₹570.00</span>
            </div>
            <div class="summary-item" style="border-top: 1px solid var(--border-color); padding-top: 8px;">
              <span><strong>Total Expenses:</strong></span>
              <span id="total-expenses"><strong>₹190,570.00</strong></span>
            </div>
          </div>
          <div class="summary-box">
            <h3 class="summary-title">Revenue & Profit</h3>
            <div class="summary-item">
              <span>Total Yield:</span>
              <span id="yield-display">150 quintals</span>
            </div>
            <div class="summary-item">
              <span>Market Price:</span>
              <span id="market-price-display">₹2,200.00/quintal</span>
            </div>
            <div class="summary-item">
              <span>Total Revenue:</span>
              <span id="total-revenue">₹330,000.00</span>
            </div>
            <div class="summary-item" style="border-top: 1px solid var(--border-color); padding-top: 8px;">
              <span><strong>Net Profit/Loss:</strong></span>
              <span id="net-profit" class="profit"><strong>₹139,430.00</strong></span>
            </div>
            <div class="summary-item">
              <span>ROI (Return on Investment):</span>
              <span id="roi" class="profit">73.2%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Crop data - default values
    const cropData = {
      wheat: { avgYield: 150, avgPrice: 2200 },    // total yield for 10 acres, ₹ per quintal
      rice: { avgYield: 200, avgPrice: 2000 },     // total yield for 10 acres, ₹ per quintal
      cotton: { avgYield: 80, avgPrice: 6500 },    // total yield for 10 acres, ₹ per quintal
      sugarcane: { avgYield: 2500, avgPrice: 350 }, // total yield for 10 acres, ₹ per quintal
      custom: { avgYield: 150, avgPrice: 2000 }    // default values for custom crop
    };

    // Format currency
    function formatCurrency(number) {
      return '₹' + number.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
    }

    // Get all expense inputs
    function getExpenses() {
      const expenses = [];
      document.querySelectorAll('#expenseTable tbody tr').forEach(row => {
        const expenseName = row.cells[0].textContent;
        const expenseCost = parseFloat(row.querySelector('.expense-input').value) || 0;
        expenses.push({ name: expenseName, cost: expenseCost });
      });
      return expenses;
    }

    // Update yield and market price inputs when crop changes
    document.getElementById('crop').addEventListener('change', function() {
      const selectedCrop = this.value;
      const cropInfo = cropData[selectedCrop];
      
      if (cropInfo) {
        document.getElementById('total-yield').value = cropInfo.avgYield;
        document.getElementById('market-price').value = cropInfo.avgPrice;
      }
      
      calculateSummary();
    });

    // Calculate summary
    function calculateSummary() {
      const totalYield = parseFloat(document.getElementById('total-yield').value) || 0;
      const marketPrice = parseFloat(document.getElementById('market-price').value) || 0;
      const transportationCost = parseFloat(document.getElementById('transport-result').textContent.match(/₹([\d,.]+)/)[1].replace(/,/g, '')) || 0;
      
      // Calculate expenses
      const expenses = getExpenses();
      const totalFarmExpenses = expenses.reduce((sum, item) => sum + item.cost, 0);
      const totalExpenses = totalFarmExpenses + transportationCost;
      
      // Calculate revenue and profit
      const totalRevenue = totalYield * marketPrice;
      const netProfit = totalRevenue - totalExpenses;
      const roi = totalExpenses > 0 ? (netProfit / totalExpenses * 100) : 0;
      
      // Update summary
      document.getElementById('total-farm-expenses').textContent = formatCurrency(totalFarmExpenses);
      document.getElementById('transportation-cost').textContent = formatCurrency(transportationCost);
      document.getElementById('total-expenses').textContent = formatCurrency(totalExpenses);
      
      document.getElementById('yield-display').textContent = `${totalYield} quintals`;
      document.getElementById('market-price-display').textContent = `${formatCurrency(marketPrice)}/quintal`;
      document.getElementById('total-revenue').textContent = formatCurrency(totalRevenue);
      
      const netProfitElement = document.getElementById('net-profit');
      netProfitElement.textContent = formatCurrency(netProfit);
      netProfitElement.className = netProfit >= 0 ? 'profit' : 'loss';
      
      const roiElement = document.getElementById('roi');
      roiElement.textContent = `${roi.toFixed(1)}%`;
      roiElement.className = roi >= 0 ? 'profit' : 'loss';
    }

    // Calculate transportation cost
    function calculateTransportationCost() {
      const mileage = parseFloat(document.getElementById('mileage').value) || 0;
      const fuelPrice = parseFloat(document.getElementById('fuel-price').value) || 0;
      const distance = parseFloat(document.getElementById('distance').value) || 0;
      const trips = parseFloat(document.getElementById('trips').value) || 0;
      
      if (mileage <= 0) {
        alert('Please enter a valid mileage value');
        return;
      }
      
      const totalDistance = distance * trips * 2; // Round trip
      const fuelRequired = totalDistance / mileage;
      const transportCost = fuelRequired * fuelPrice;
      
      document.getElementById('transport-result').textContent = `Transportation Cost: ${formatCurrency(transportCost)}`;
      
      calculateSummary();
    }

    // Add new expense
    document.getElementById('add-expense').addEventListener('click', function() {
      const expenseName = document.getElementById('new-expense').value.trim();
      const expenseCost = parseFloat(document.getElementById('new-expense-cost').value) || 0;
      
      if (!expenseName) {
        alert('Please enter an expense name');
        return;
      }
      
      const tableBody = document.querySelector('#expenseTable tbody');
      const newRow = document.createElement('tr');
      newRow.dataset.id = expenseName.toLowerCase().replace(/\s+/g, '-');
      
      newRow.innerHTML = `
        <td>${expenseName}</td>
        <td><input type="number" class="expense-input" value="${expenseCost}"></td>
        <td><button class="btn btn-remove">Remove</button></td>
      `;
      
      tableBody.appendChild(newRow);
      
      // Add event listeners to new elements
      newRow.querySelector('.expense-input').addEventListener('input', calculateSummary);
      newRow.querySelector('.btn-remove').addEventListener('click', function() {
        newRow.remove();
        calculateSummary();
      });
      
      // Clear input fields
      document.getElementById('new-expense').value = '';
      document.getElementById('new-expense-cost').value = '';
      
      calculateSummary();
    });

    // Event listeners for all inputs
    document.querySelectorAll('input, select').forEach(input => {
      input.addEventListener('input', calculateSummary);
    });

    // Event listener for transport calculation
    document.getElementById('calculate-transport').addEventListener('click', calculateTransportationCost);

    // Event listeners for remove buttons
    document.querySelectorAll('.btn-remove').forEach(button => {
      button.addEventListener('click', function() {
        if (document.querySelectorAll('#expenseTable tbody tr').length > 1) {
          this.closest('tr').remove();
          calculateSummary();
        } else {
          alert('You must keep at least one expense item');
        }
      });
    });

    // Add hover effects to sections
    document.querySelectorAll('.section').forEach(section => {
      section.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-5px)';
      });
      
      section.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
      });
    });

    // Initialize
    window.addEventListener('DOMContentLoaded', function() {
      // Set initial yield and market price values
      const initialCrop = document.getElementById('crop').value;
      document.getElementById('total-yield').value = cropData[initialCrop].avgYield;
      document.getElementById('market-price').value = cropData[initialCrop].avgPrice;
      
      // Add event listeners to expense inputs
      document.querySelectorAll('.expense-input').forEach(input => {
        input.addEventListener('input', calculateSummary);
      });
      
      calculateTransportationCost();
      calculateSummary();
    });
  </script>
</body>
</html>